{% extends "base.html" %}
{% block title %}Calcualtor{% endblock %}
{% block content %}
{{text}}
{% if table == "" %}
<div id="calculatorContainer">
<form method="POST" onsubmit="return calcLoading()">
    <h3 align="center">The Amazing Lumber Calculator</h3>
    <div class="form-group">
        <p>Enter the length of an available size of raw lumber in feet</p>
        <input type="text" name="raw_lumber_length_1" id="raw_lumber_length_1" placeholder="eg 12 feet" />
    </div>
    <div class="form-group">
        <br>
        <p>Enter a second available lumber size</p>
        <input type="text" name="raw_lumber_length_2" id="raw_lumber_length_2" placeholder="eg 10 feet" />
    </div>
    <div class="form-group">
        <br>
        <p>Enter a third available lumber size</p>
        <input type="text" name="raw_lumber_length_3" id="raw_lumber_length_3" placeholder="eg 8 feet" />
    </div>
    <div class="form-group">
        <br>
        <p>Enter the size of each CUT PIECE required in inches (separate lengths by a space or comma) </p>
        <input type="text" name="piece_list" id="piece_list" placeholder="separate values by comma ," />
    </div>
    <br />
    <button type="submit" class="btn btn-primary">Submit</button>    
</form>
</div>

<script>


function calcLoading(){

    console.log('myFunction was called');
    var img = document.createElement("img");
    var imgCalc = document.createElement('img')

    img.src= "{{ url_for('static', filename='rodney.gif') }}"; 
    img.alt="My Roddney"; 
    


    img.style.width = "200px";
    img.style.height = "200px";

    // Create a container for the image
    var container = document.createElement("div");

    // Set the CSS properties to center the image
    img.style.position = "absolute";
    img.style.top = "0";
    img.style.left = "50%";
    img.style.transform = "translate(-50%, 150%)";

    // Add the image to the container
    var container = document.getElementById("calculatorContainer");



    container.insertBefore(img, container.firstChild);
    return true; // prevent form submission


}
</script>


{% else %}
<h3 align="center">The Amazing Lumber Calculator</h3>
<p>Happy cutting!</p>
<br />

{{table|safe}}
<br />
{{text2}}
<br />
{{text3}}
<br />
<img src="{{ url_for('static', filename='visual.png') }}" alt="My Plot"> 
<br />
<a href="" class="btn btn-info">Reset</a> 
{% endif %}
{% endblock %}